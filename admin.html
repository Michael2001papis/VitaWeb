<!doctype html>
<html lang="he" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>הגדרות אתר – הנדימן בערד, מיתר ובאר שבע</title>
  <style>
    :root { 
      --brand: #2563eb; 
      --brand-2: #1d4ed8; 
      --brand-3: #3b82f6;
      --brand-light: #dbeafe;
      --danger: #dc2626; 
      --ok: #059669;
      --warning: #d97706;
      --gray-50: #f8fafc;
      --gray-100: #f1f5f9;
      --gray-200: #e2e8f0;
      --gray-300: #cbd5e1;
      --gray-400: #94a3b8;
      --gray-500: #64748b;
      --gray-600: #475569;
      --gray-700: #334155;
      --gray-800: #1e293b;
      --gray-900: #0f172a;
      --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
      --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
      --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
      --shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
    }
    
    * { box-sizing: border-box; }
    
    body { 
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; 
      background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 50%, #bae6fd 100%);
      color: #1e293b; 
      margin: 0; 
      line-height: 1.7;
      min-height: 100vh;
    }
    
    .container { 
      max-width: 1200px; 
      margin: 0 auto; 
      padding: 0 1rem; 
    }
    .card { 
      background: rgba(255,255,255,0.95); 
      border: 1px solid rgba(30, 64, 175, 0.1); 
      border-radius: 1.25rem; 
      padding: 2.5rem; 
      margin-bottom: 2rem; 
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      transition: all 0.3s ease;
    }
    
    .card:hover {
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
      transform: translateY(-2px);
    }
    .btn { display:inline-block; padding:.7rem 1.1rem; border-radius:.6rem; text-decoration:none; border:none; cursor:pointer }
    .btn-primary { background:var(--brand); color:#fff }
    .btn-danger { background:var(--danger); color:#fff }
    .btn-ghost { background:#fff; color:#0f172a; border:1px solid #cbd5e1 }
    .hidden { display:none }
    .login-form { max-width:400px; margin:2rem auto; text-align:center }
    .dashboard { display:grid; gap:1rem }
    .stats { display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:1rem }
    .stat-card { background:linear-gradient(135deg, #eef6ff, #f0f9ff); border:2px solid var(--brand); text-align:center; padding:1.5rem }
    .stat-number { font-size:2rem; font-weight:800; color:var(--brand); margin:.5rem 0 }
    .leads-table { width:100%; border-collapse:collapse; margin-top:1rem }
    .leads-table th, .leads-table td { padding:.5rem; border:1px solid #e2e8f0; text-align:right }
    .leads-table th { background:#f8fafc; font-weight:600 }
    .status-new { background:#fef3c7; color:#92400e; padding:.2rem .5rem; border-radius:.3rem; font-size:.8rem }
    .status-contacted { background:#dbeafe; color:#1e40af; padding:.2rem .5rem; border-radius:.3rem; font-size:.8rem }
    .status-quoted { background:#d1fae5; color:#065f46; padding:.2rem .5rem; border-radius:.3rem; font-size:.8rem }
    input, textarea, select { width:100%; padding:.6rem; border:1px solid #cbd5e1; border-radius:.4rem; font-family:inherit; margin:.5rem 0 }
    input:focus, textarea:focus, select:focus { outline:3px solid var(--brand); outline-offset:2px }
    .grid { display:grid; gap:1rem }
    .grid-2 { grid-template-columns: repeat(2, minmax(0,1fr)) }
    .grid-3 { grid-template-columns: repeat(3, minmax(0,1fr)) }
    .grid-4 { grid-template-columns: repeat(4, minmax(0,1fr)) }
    @media (max-width: 720px){ .grid-2,.grid-3,.grid-4{ grid-template-columns: 1fr } }
    .stats-card { text-align:center; padding:1.5rem; background:linear-gradient(135deg, #eef6ff, #f0f9ff); border:1px solid var(--brand); border-radius:.8rem }
    .stats-number { font-size:2.5rem; font-weight:800; color:var(--brand); margin:.5rem 0 }
    .stats-label { color:#374151; font-size:.9rem; margin:0; font-weight:500 }
    .lead-item { border:1px solid #e2e8f0; border-radius:.6rem; padding:1rem; margin-bottom:.8rem; background:#fff }
    .lead-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:.5rem }
    .lead-name { font-weight:600; color:var(--brand) }
    .lead-date { color:#64748b; font-size:.85rem }
    .lead-details { color:#374151; font-size:.9rem; line-height:1.4; font-weight:500 }
    .status-badge { padding:.3rem .6rem; border-radius:999px; font-size:.8rem; font-weight:600 }
    .status-new { background:#dbeafe; color:#1e40af }
    .status-contacted { background:#dcfce7; color:#166534 }
    .status-quoted { background:#fef3c7; color:#92400e }
    .status-won { background:#dcfce7; color:#166534 }
    .status-lost { background:#fee2e2; color:#dc2626 }
    .action-buttons { display:flex; gap:.5rem; margin-top:.8rem }
    .action-buttons .btn { padding:.4rem .8rem; font-size:.85rem }
    .filter-tabs { display:flex; gap:.5rem; margin-bottom:1rem; border-bottom:1px solid #e2e8f0 }
    .filter-tab { padding:.6rem 1rem; background:none; border:none; cursor:pointer; color:#374151; border-bottom:2px solid transparent; font-weight:500 }
    .filter-tab.active { color:var(--brand); border-bottom-color:var(--brand) }
    .search-box { width:100%; padding:.6rem; border:1px solid #cbd5e1; border-radius:.4rem; margin-bottom:1rem }
    .modal { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,.5); z-index:1000 }
    .modal-content { position:absolute; top:50%; left:50%; transform:translate(-50%,-50%); background:#fff; border-radius:.8rem; padding:2rem; max-width:500px; width:90% }
    .modal-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:1rem }
    .close-btn { background:none; border:none; font-size:1.5rem; cursor:pointer; color:#64748b }
    .form-group { margin-bottom:1rem }
    .form-group label { display:block; margin-bottom:.3rem; font-weight:600; color:#374151 }
    .form-group input, .form-group select, .form-group textarea { width:100%; padding:.6rem; border:1px solid #cbd5e1; border-radius:.4rem; font-family:inherit }
    .form-group textarea { height:80px; resize:vertical }
    .tabs { display:flex; gap:.5rem; margin-bottom:1rem; border-bottom:1px solid #e2e8f0 }
    .tab { padding:.6rem 1rem; background:none; border:none; cursor:pointer; color:#374151; border-bottom:2px solid transparent; font-weight:500 }
    .tab.active { color:var(--brand); border-bottom-color:var(--brand) }
    .tab-content { display:none }
    .tab-content.active { display:block }
    .log-item { border:1px solid #e2e8f0; border-radius:.4rem; padding:.8rem; margin-bottom:.5rem; background:#f8fafc }
    .log-time { font-size:.8rem; color:#64748b; margin-bottom:.2rem }
    .log-action { font-weight:600; color:#374151; margin-bottom:.2rem }
    .log-details { font-size:.85rem; color:#374151; font-weight:500 }
  </style>
</head>
<body>
  <div class="container">
    <!-- מסך כניסה -->
    <div id="loginScreen" class="login-form">
      <div class="card">
        <h1 style="margin:0 0 1rem 0; color:var(--brand);">הגדרות אתר VitaWeb</h1>
        <form id="loginForm">
          <div>
            <label for="username" style="display:block; text-align:right; margin-bottom:.2rem;">שם משתמש</label>
            <input id="username" name="username" type="text" required>
          </div>
          <div>
            <label for="password" style="display:block; text-align:right; margin-bottom:.2rem;">סיסמה</label>
            <input id="password" name="password" type="password" required>
          </div>
          <button type="submit" class="btn btn-primary" style="margin-top:1rem;">התחבר</button>
        </form>
        <p id="loginError" style="color:var(--danger); margin:1rem 0 0 0; display:none;">שם משתמש או סיסמה שגויים</p>
      </div>
    </div>

    <!-- דשבורד מנהל -->
    <div id="dashboard" class="hidden">
      <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:2rem;">
        <h1 style="margin:0; color:var(--brand);">הגדרות אתר - הנדימן בערד, מיתר ובאר שבע</h1>
        <button id="logoutBtn" class="btn btn-danger">התנתק</button>
      </div>

      <!-- סטטיסטיקות מתקדמות -->
      <div class="grid grid-4">
        <div class="stats-card">
          <div class="stats-number" id="totalLeads">0</div>
          <div class="stats-label">סה"כ לידים</div>
        </div>
        <div class="stats-card">
          <div class="stats-number" id="newLeads">0</div>
          <div class="stats-label">לידים חדשים</div>
        </div>
        <div class="stats-card">
          <div class="stats-number" id="contactedLeads">0</div>
          <div class="stats-label">לידים שטופלו</div>
        </div>
        <div class="stats-card">
          <div class="stats-number" id="quotedLeads">0</div>
          <div class="stats-label">הצעות מחיר</div>
        </div>
      </div>

      <!-- טאבים -->
      <div class="tabs">
        <button class="tab active" onclick="switchTab('appearance')">מראה</button>
        <button class="tab" onclick="switchTab('language')">שפה</button>
        <button class="tab" onclick="switchTab('accessibility')">נגישות</button>
        <button class="tab" onclick="switchTab('content')">תוכן</button>
        <button class="tab" onclick="switchTab('contact')">פרטי קשר</button>
        <button class="tab" onclick="switchTab('advanced')">מתקדם</button>
        <button class="tab" onclick="switchTab('backup')">גיבוי</button>
      </div>

      <!-- תוכן טאבים -->
      <div id="appearance-tab" class="tab-content active">
        <div class="card">
          <h2>הגדרות מראה</h2>
          <div class="grid grid-2">
            <div>
              <h3>גדלי טקסט</h3>
              <div class="form-group">
                <label>גודל טקסט</label>
                <select id="textSize">
                  <option value="small">קטן</option>
                  <option value="medium" selected>בינוני</option>
                  <option value="large">גדול</option>
                  <option value="extra-large">גדול מאוד</option>
                </select>
              </div>
              <div class="form-group">
                <label>גודל כפתורים</label>
                <select id="buttonSize">
                  <option value="small">קטן</option>
                  <option value="medium" selected>בינוני</option>
                  <option value="large">גדול</option>
                </select>
              </div>
            </div>
            <div>
              <h3>עיצוב כללי</h3>
              <div class="form-group">
                <label>ערכת צבעים</label>
                <select id="colorScheme">
                  <option value="default" selected>ברירת מחדל (כחול)</option>
                  <option value="green">ירוק</option>
                  <option value="purple">סגול</option>
                  <option value="orange">כתום</option>
                  <option value="dark">כהה</option>
                </select>
              </div>
              <div class="form-group">
                <label>עיצוב כרטיסים</label>
                <select id="cardStyle">
                  <option value="rounded" selected>עגול</option>
                  <option value="square">מרובע</option>
                  <option value="minimal">מינימלי</option>
                </select>
              </div>
            </div>
          </div>
          <button class="btn btn-primary" onclick="applyAppearanceSettings()">החל הגדרות</button>
        </div>
      </div>

      <div id="language-tab" class="tab-content">
        <div class="card">
          <h2>הגדרות שפה</h2>
          <div class="grid grid-2">
            <div>
              <h3>שפת האתר</h3>
              <div class="form-group">
                <label>שפה ראשית</label>
                <select id="primaryLanguage">
                  <option value="he" selected>עברית</option>
                  <option value="en">English</option>
                  <option value="ru">Русский</option>
                </select>
              </div>
              <div class="form-group">
                <label>כיוון טקסט</label>
                <select id="textDirection">
                  <option value="rtl" selected>ימין לשמאל (RTL)</option>
                  <option value="ltr">שמאל לימין (LTR)</option>
                </select>
              </div>
            </div>
            <div>
              <h3>תרגום תוכן</h3>
              <div class="form-group">
                <label>תרגום אוטומטי</label>
                <label style="display:flex; align-items:center; gap:.5rem;">
                  <input type="checkbox" id="autoTranslate"> הפעל תרגום אוטומטי
                </label>
              </div>
              <div class="form-group">
                <label>שפות נוספות</label>
                <div style="display:flex; flex-direction:column; gap:.5rem;">
                  <label style="display:flex; align-items:center; gap:.5rem;">
                    <input type="checkbox" id="langEn"> English
                  </label>
                  <label style="display:flex; align-items:center; gap:.5rem;">
                    <input type="checkbox" id="langRu"> Русский
                  </label>
                </div>
              </div>
            </div>
          </div>
          <button class="btn btn-primary" onclick="applyLanguageSettings()">החל הגדרות</button>
        </div>
      </div>

      <div id="accessibility-tab" class="tab-content">
        <div class="card">
          <h2>הגדרות נגישות</h2>
          <div class="grid grid-2">
            <div>
              <h3>עיפוך צבעים</h3>
              <div class="form-group">
                <label>רמת ניגודיות</label>
                <select id="contrastLevel">
                  <option value="normal" selected>רגיל</option>
                  <option value="high">גבוה</option>
                  <option value="very-high">גבוה מאוד</option>
                </select>
              </div>
              <div class="form-group">
                <label>מצב צבעים</label>
                <select id="colorMode">
                  <option value="normal" selected>צבע מלא</option>
                  <option value="grayscale">גווני אפור</option>
                  <option value="inverted">הפוך</option>
                </select>
              </div>
            </div>
            <div>
              <h3>תמיכה במוגבלויות</h3>
              <div class="form-group">
                <label>הגדרות נוספות</label>
                <div style="display:flex; flex-direction:column; gap:.5rem;">
                  <label style="display:flex; align-items:center; gap:.5rem;">
                    <input type="checkbox" id="reduceMotion"> הפחת אנימציות
                  </label>
                  <label style="display:flex; align-items:center; gap:.5rem;">
                    <input type="checkbox" id="largeText"> טקסט גדול
                  </label>
                  <label style="display:flex; align-items:center; gap:.5rem;">
                    <input type="checkbox" id="highContrast"> ניגודיות גבוהה
                  </label>
                  <label style="display:flex; align-items:center; gap:.5rem;">
                    <input type="checkbox" id="screenReader"> תמיכה בקוראי מסך
                  </label>
                </div>
              </div>
            </div>
          </div>
          <button class="btn btn-primary" onclick="applyAccessibilitySettings()">החל הגדרות</button>
        </div>
      </div>

      <div id="contact-tab" class="tab-content">
        <div class="card">
          <h2>פרטי יצירת קשר</h2>
          <div class="grid grid-2">
            <div>
              <h3>פרטי הנדימן</h3>
              <div class="form-group">
                <label>שם מלא</label>
                <input type="text" id="handymanName" value="VitaWeb">
              </div>
              <div class="form-group">
                <label>טלפון</label>
                <input type="tel" id="contactPhone" value="050-853-5941">
              </div>
              <div class="form-group">
                <label>אימייל</label>
                <input type="email" id="contactEmail" value="dvnka2@gmail.com">
              </div>
              <div class="form-group">
                <label>כתובת</label>
                <input type="text" id="address" value="ערד, ישראל">
              </div>
            </div>
            <div>
              <h3>אזורי שירות</h3>
              <div class="form-group">
                <label>ערים ראשיות</label>
                <input type="text" id="mainCities" value="ערד, מיתר">
              </div>
              <div class="form-group">
                <label>אזורים נוספים</label>
                <input type="text" id="additionalAreas" value="באר שבע (מעל 20,000₪)">
              </div>
              <div class="form-group">
                <label>שעות עבודה</label>
                <input type="text" id="workingHours" value="א-ה: 08:00-19:00, ו': 08:00-13:00">
              </div>
              <div class="form-group">
                <label>זמינות חירום</label>
                <label style="display:flex; align-items:center; gap:.5rem;">
                  <input type="checkbox" id="emergencyService" checked> שירות חירום 24/7
                </label>
              </div>
            </div>
          </div>
          <button class="btn btn-primary" onclick="updateContactInfo()">עדכן פרטי קשר</button>
        </div>
      </div>

      <div id="advanced-tab" class="tab-content">
        <div class="card">
          <h2>הגדרות מתקדמות</h2>
          <div class="grid grid-2">
            <div>
              <h3>SEO ואבטחה</h3>
              <div class="form-group">
                <label>כותרת SEO</label>
                <input type="text" id="seoTitle" value="הנדימן בערד, מיתר ובאר שבע">
              </div>
              <div class="form-group">
                <label>תיאור SEO</label>
                <textarea id="seoDesc" rows="3">הנדימן בערד, מיתר ובאר שבע – תיקונים קטנים, אמינים ומהירים</textarea>
              </div>
              <div class="form-group">
                <label>מילות מפתח</label>
                <input type="text" id="keywords" value="הנדימן, ערד, מיתר, באר שבע, אינסטלציה, חשמל">
              </div>
            </div>
            <div>
              <h3>ביצועים</h3>
              <div class="form-group">
                <label>דחיסת תמונות</label>
                <label style="display:flex; align-items:center; gap:.5rem;">
                  <input type="checkbox" id="compressImages" checked> הפעל דחיסה אוטומטית
                </label>
              </div>
              <div class="form-group">
                <label>טעינה מהירה</label>
                <label style="display:flex; align-items:center; gap:.5rem;">
                  <input type="checkbox" id="fastLoading" checked> הפעל טעינה מהירה
                </label>
              </div>
              <div class="form-group">
                <label>מטמון</label>
                <select id="cacheLevel">
                  <option value="low">נמוך</option>
                  <option value="medium" selected>בינוני</option>
                  <option value="high">גבוה</option>
                </select>
              </div>
            </div>
          </div>
          <button class="btn btn-primary" onclick="applyAdvancedSettings()">החל הגדרות</button>
        </div>
      </div>

      <div id="backup-tab" class="tab-content">
        <div class="card">
          <h2>גיבוי ושחזור</h2>
          <div class="grid grid-2">
            <div>
              <h3>גיבוי נתונים</h3>
              <div class="form-group">
                <label>גיבוי אוטומטי</label>
                <label style="display:flex; align-items:center; gap:.5rem;">
                  <input type="checkbox" id="autoBackup" checked> הפעל גיבוי יומי
                </label>
              </div>
              <div class="form-group">
                <label>תדירות גיבוי</label>
                <select id="backupFrequency">
                  <option value="daily" selected>יומי</option>
                  <option value="weekly">שבועי</option>
                  <option value="monthly">חודשי</option>
                </select>
              </div>
              <button class="btn btn-primary" onclick="createBackup()">צור גיבוי עכשיו</button>
            </div>
            <div>
              <h3>שחזור נתונים</h3>
              <div class="form-group">
                <label>בחר קובץ גיבוי</label>
                <input type="file" id="backupFile" accept=".json">
              </div>
              <div class="form-group">
                <label>גיבויים זמינים</label>
                <select id="availableBackups">
                  <option value="">בחר גיבוי לשחזור</option>
                  <option value="backup1">גיבוי מה-15/01/2024</option>
                  <option value="backup2">גיבוי מה-10/01/2024</option>
                </select>
              </div>
              <button class="btn btn-danger" onclick="restoreBackup()">שחזר נתונים</button>
            </div>
          </div>
        </div>
      </div>

      <div id="content-tab" class="tab-content">
        <div class="card">
          <h2>ניהול תוכן האתר</h2>
          <div class="grid grid-2">
            <div>
              <h3>עמוד הבית</h3>
              <div class="form-group">
                <label>כותרת ראשית</label>
                <input type="text" id="homeTitle" value="הנדימן בערד, מיתר ובאר שבע – תיקון אמין ומהיר">
              </div>
              <div class="form-group">
                <label>תיאור קצר</label>
                <textarea id="homeDesc" rows="3">תיקונים קטנים בלי כאב ראש: אינסטלציה קלה, חשמל, נגרות ותליית מסכים. מגיע בזמן, עובד נקי, ומתחייב לתוצאה.</textarea>
              </div>
              <div class="form-group">
                <label>הוכחות חברתיות</label>
                <input type="text" id="socialProof" value="מעל 1,200 עבודות, 8+ שנות ניסיון">
              </div>
            </div>
            <div>
              <h3>שירותים</h3>
              <div class="form-group">
                <label>שירות ראשי 1</label>
                <input type="text" id="service1" value="תיקוני אינסטלציה">
              </div>
              <div class="form-group">
                <label>שירות ראשי 2</label>
                <input type="text" id="service2" value="תליית טלוויזיות">
              </div>
              <div class="form-group">
                <label>שירות ראשי 3</label>
                <input type="text" id="service3" value="תיקוני חשמל">
              </div>
              <button class="btn btn-primary" onclick="updateContent()">עדכן תוכן</button>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <script>
    // נתונים מקומיים
    let currentUser = null;

    // פונקציות מתקדמות
    function switchTab(tabName) {
      // הסר active מכל הטאבים
      document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(content => content.classList.remove('active'));
      
      // הוסף active לטאב הנבחר
      event.target.classList.add('active');
      document.getElementById(tabName + '-tab').classList.add('active');
    }
    
    // פונקציות הגדרות מראה
    function applyAppearanceSettings() {
      const textSize = document.getElementById('textSize').value;
      const buttonSize = document.getElementById('buttonSize').value;
      const colorScheme = document.getElementById('colorScheme').value;
      const cardStyle = document.getElementById('cardStyle').value;
      
      // שמור הגדרות
      const settings = {
        textSize,
        buttonSize,
        colorScheme,
        cardStyle,
        timestamp: new Date().toISOString()
      };
      
      localStorage.setItem('vitaweb_appearance', JSON.stringify(settings));
      alert('הגדרות המראה עודכנו בהצלחה!');
    }
    
    // פונקציות הגדרות שפה
    function applyLanguageSettings() {
      const primaryLanguage = document.getElementById('primaryLanguage').value;
      const textDirection = document.getElementById('textDirection').value;
      const autoTranslate = document.getElementById('autoTranslate').checked;
      const langEn = document.getElementById('langEn').checked;
      const langRu = document.getElementById('langRu').checked;
      
      // שמור הגדרות
      const settings = {
        primaryLanguage,
        textDirection,
        autoTranslate,
        additionalLanguages: {
          en: langEn,
          ru: langRu
        },
        timestamp: new Date().toISOString()
      };
      
      localStorage.setItem('vitaweb_language', JSON.stringify(settings));
      alert('הגדרות השפה עודכנו בהצלחה!');
    }
    
    // פונקציות הגדרות נגישות
    function applyAccessibilitySettings() {
      const contrastLevel = document.getElementById('contrastLevel').value;
      const colorMode = document.getElementById('colorMode').value;
      const reduceMotion = document.getElementById('reduceMotion').checked;
      const largeText = document.getElementById('largeText').checked;
      const highContrast = document.getElementById('highContrast').checked;
      const screenReader = document.getElementById('screenReader').checked;
      
      // שמור הגדרות
      const settings = {
        contrastLevel,
        colorMode,
        reduceMotion,
        largeText,
        highContrast,
        screenReader,
        timestamp: new Date().toISOString()
      };
      
      localStorage.setItem('vitaweb_accessibility', JSON.stringify(settings));
      alert('הגדרות הנגישות עודכנו בהצלחה!');
    }
    
    // פונקציות הגדרות מתקדמות
    function applyAdvancedSettings() {
      const seoTitle = document.getElementById('seoTitle').value;
      const seoDesc = document.getElementById('seoDesc').value;
      const keywords = document.getElementById('keywords').value;
      const compressImages = document.getElementById('compressImages').checked;
      const fastLoading = document.getElementById('fastLoading').checked;
      const cacheLevel = document.getElementById('cacheLevel').value;
      
      // שמור הגדרות
      const settings = {
        seoTitle,
        seoDesc,
        keywords,
        compressImages,
        fastLoading,
        cacheLevel,
        timestamp: new Date().toISOString()
      };
      
      localStorage.setItem('vitaweb_advanced', JSON.stringify(settings));
      alert('הגדרות המתקדמות עודכנו בהצלחה!');
    }
    
    // פונקציות גיבוי
    function createBackup() {
      const allSettings = {
        appearance: JSON.parse(localStorage.getItem('vitaweb_appearance') || '{}'),
        language: JSON.parse(localStorage.getItem('vitaweb_language') || '{}'),
        accessibility: JSON.parse(localStorage.getItem('vitaweb_accessibility') || '{}'),
        advanced: JSON.parse(localStorage.getItem('vitaweb_advanced') || '{}'),
        timestamp: new Date().toISOString()
      };
      
      const dataStr = JSON.stringify(allSettings, null, 2);
      const dataBlob = new Blob([dataStr], {type: 'application/json'});
      
      const link = document.createElement('a');
      link.href = URL.createObjectURL(dataBlob);
      link.download = `vitaweb-backup-${new Date().toISOString().split('T')[0]}.json`;
      link.click();
      
      alert('גיבוי נוצר בהצלחה!');
    }
    
    function restoreBackup() {
      const fileInput = document.getElementById('backupFile');
      const file = fileInput.files[0];
      
      if (!file) {
        alert('נא לבחור קובץ גיבוי');
        return;
      }
      
      const reader = new FileReader();
      reader.onload = function(e) {
        try {
          const backup = JSON.parse(e.target.result);
          
          // שחזר הגדרות
          if (backup.appearance) localStorage.setItem('vitaweb_appearance', JSON.stringify(backup.appearance));
          if (backup.language) localStorage.setItem('vitaweb_language', JSON.stringify(backup.language));
          if (backup.accessibility) localStorage.setItem('vitaweb_accessibility', JSON.stringify(backup.accessibility));
          if (backup.advanced) localStorage.setItem('vitaweb_advanced', JSON.stringify(backup.advanced));
          
          alert('הנתונים שוחזרו בהצלחה!');
        } catch (error) {
          alert('שגיאה בקובץ הגיבוי: ' + error.message);
        }
      };
      reader.readAsText(file);
    }
    
    // פונקציות תוכן
    function updateContent() {
      const homeTitle = document.getElementById('homeTitle').value;
      const homeDesc = document.getElementById('homeDesc').value;
      const socialProof = document.getElementById('socialProof').value;
      const service1 = document.getElementById('service1').value;
      const service2 = document.getElementById('service2').value;
      const service3 = document.getElementById('service3').value;
      
      // שמור תוכן
      const content = {
        homeTitle,
        homeDesc,
        socialProof,
        services: [service1, service2, service3],
        timestamp: new Date().toISOString()
      };
      
      localStorage.setItem('vitaweb_content', JSON.stringify(content));
      alert('התוכן עודכן בהצלחה!');
    }



    // פונקציות ניהול תוכן
    function updateContactInfo() {
      const handymanName = document.getElementById('handymanName').value;
      const phone = document.getElementById('contactPhone').value;
      const email = document.getElementById('contactEmail').value;
      const address = document.getElementById('address').value;
      const mainCities = document.getElementById('mainCities').value;
      const additionalAreas = document.getElementById('additionalAreas').value;
      const workingHours = document.getElementById('workingHours').value;
      const emergencyService = document.getElementById('emergencyService').checked;
      
      // שמור פרטי קשר
      const contactInfo = {
        handymanName,
        phone,
        email,
        address,
        mainCities,
        additionalAreas,
        workingHours,
        emergencyService,
        timestamp: new Date().toISOString()
      };
      
      localStorage.setItem('vitaweb_contact', JSON.stringify(contactInfo));
      alert('פרטי יצירת קשר עודכנו בהצלחה!');
    }


    // אירועי כניסה
    document.getElementById('loginForm').addEventListener('submit', (e) => {
      e.preventDefault();
      const username = document.getElementById('username').value;
      const password = document.getElementById('password').value;
      
      if (username === 'מיכאל' && password === 'MP123456') {
        currentUser = { username, password };
        document.getElementById('loginScreen').classList.add('hidden');
        document.getElementById('dashboard').classList.remove('hidden');
        alert('ברוכים הבאים לפאנל ההגדרות!');
      } else {
        document.getElementById('loginError').style.display = 'block';
      }
    });

    // אירועי דשבורד
    document.getElementById('logoutBtn').addEventListener('click', () => {
      currentUser = null;
      document.getElementById('loginScreen').classList.remove('hidden');
      document.getElementById('dashboard').classList.add('hidden');
      document.getElementById('loginForm').reset();
      document.getElementById('loginError').style.display = 'none';
    });
  </script>
  <button id="creditsBtn" class="btn btn-ghost" style="position:fixed; right:1rem; bottom:1rem;">זכויות יוצרים</button>
  <div id="creditsModal" style="position:fixed; inset:0; background:#0008; display:none; align-items:center; justify-content:center; z-index:50">
    <div style="background:#fff; border-radius:.8rem; padding:1rem; max-width:520px; width:90%; box-shadow:0 10px 30px #0003" role="dialog" aria-modal="true" aria-labelledby="creditsTitle">
      <h3 id="creditsTitle" style="margin:0 0 .5rem 0; color:var(--brand);">זכויות יוצרים</h3>
      <p style="margin:.2rem 0"><strong>הנדימן:</strong> VitaWeb – 050-853-5941</p>
      <p style="margin:.2rem 0"><strong>מפתח האתר:</strong> מיכאל פפיסמדוב (חתימה: Mpb)</p>
      <div style="text-align:left; margin-top:1rem;">
        <button id="closeCredits" class="btn btn-primary">סגור</button>
      </div>
    </div>
  </div>
  <script>
    (function(){
      const btn = document.getElementById('creditsBtn');
      const modal = document.getElementById('creditsModal');
      const closeBtn = document.getElementById('closeCredits');
      if(btn && modal && closeBtn){
        btn.addEventListener('click', ()=>{ modal.style.display='flex'; });
        closeBtn.addEventListener('click', ()=>{ modal.style.display='none'; });
        modal.addEventListener('click', (e)=>{ if(e.target===modal) modal.style.display='none'; });
      }
    })();
  </script>
</body>
</html>
